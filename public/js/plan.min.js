$(document).ready(function(){$.get("/plan/mods",function(e){var t=e.split(",");for(i=0;i<t.length;i++){var n=t[i].split(" ");for(j=0;j<n.length;j++){addModules(i+1,n[j])}}});var e=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.obj.whitespace("value"),queryTokenizer:Bloodhound.tokenizers.whitespace,limit:5,prefetch:{url:"/moduleList.json",filter:function(e){return $.map(e,function(e,t){var n=e["ModuleCode"]+" : "+e["ModuleTitle"];return{value:n}})}}});e.initialize(true);e.clearPrefetchCache();$(".module-input").typeahead({minLength:1,highlight:true},{name:"modules",displayKey:"value",source:e.ttAdapter()});$(".module-input").keydown(function(e){if(e.keyCode==13){e.preventDefault();var t=$(this).val();var n=this.id;n=n.substring(n.length-1);t=t.substring(0,t.indexOf(" "));addModules(parseInt(n),t);$(this).val("")}});$(".module-input").blur(function(){$(this).val("")});$(".form-group").on("click",".add-button",function(){event.preventDefault();var e=$(this).closest(".form-group");var t=$(e).find(".module-input.tt-input");alert($(t).attr("id"));var n=jQuery.Event("keydown");n.keyCode=13;$(t).trigger(n)});$(".sem-table").on("click",".remove-button",function(){var e=$(this).closest("tr");var t=$(e).find("td:eq(0)").find("a").html();var n=$(this).closest("tbody").attr("id");n=n.substring(n.length-1);deleteModule(parseInt(n),t);$(this).closest("tr").remove()});$(".sem-table").on("click",".info-button",function(){var e=$(this).closest("tr");var t=$(e).find("td:eq(0)").find("a").html();showDetails(t)});$("#save-plan-btn").popover({trigger:"focus",container:"body",content:"Your plan is saved!",placement:"right"});$("#save-plan-btn").click(function(){save()})})